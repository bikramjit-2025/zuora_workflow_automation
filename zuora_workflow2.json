{
  "workflow": {
    "id": "wf_001",
    "name": "Customer Onboarding Workflow",
    "version": "1.1",
    "description": "Automated workflow for new customer onboarding process with enhanced features",
    "status": "active",
    "created_date": "2024-01-15T10:30:00Z",
    "last_modified": "2024-01-20T14:45:00Z",
    "triggers": [
      {
        "type": "account_created",
        "conditions": {
          "account_type": "enterprise",
          "region": "US"
        }
      },
      {
        "type": "trial_started",
        "conditions": {
          "trial_duration": "14_days",
          "product_tier": "premium"
        }
      }
    ],
    "steps": [
      {
        "step_id": "step_001",
        "name": "Validate Account",
        "type": "validation",
        "order": 1,
        "config": {
          "required_fields": ["company_name", "email", "phone", "tax_id"],
          "validation_rules": ["email_format", "phone_format", "tax_id_format"]
        }
      },
      {
        "step_id": "step_002", 
        "name": "Create Subscription",
        "type": "action",
        "order": 2,
        "config": {
          "product_catalog": "enterprise_plan",
          "billing_cycle": "monthly",
          "auto_renew": true,
          "proration": true
        }
      },
      {
        "step_id": "step_003",
        "name": "Send Welcome Email",
        "type": "notification",
        "order": 3,
        "config": {
          "template": "welcome_enterprise",
          "recipients": ["account_owner", "billing_contact", "technical_contact"]
        }
      },
      {
        "step_id": "step_004",
        "name": "Setup Integration",
        "type": "action",
        "order": 4,
        "config": {
          "api_endpoints": ["billing", "usage", "webhooks"],
          "authentication": "oauth2",
          "rate_limits": {
            "requests_per_minute": 1000,
            "burst_limit": 2000
          }
        }
      },
      {
        "step_id": "step_005",
        "name": "Schedule Follow-up",
        "type": "scheduler",
        "order": 5,
        "config": {
          "delay_days": 7,
          "action": "send_check_in_email",
          "template": "onboarding_followup"
        }
      }
    ],
    "settings": {
      "retry_attempts": 5,
      "timeout_minutes": 45,
      "error_handling": "continue_on_error",
      "logging": {
        "level": "detailed",
        "retention_days": 90
      },
      "monitoring": {
        "alerts_enabled": true,
        "slack_webhook": "https://hooks.slack.com/services/xxx"
      }
    },
    "permissions": {
      "view": ["admin", "sales_manager"],
      "edit": ["admin", "workflow_manager"],
      "execute": ["system", "api_user"]
    }
  }
}
